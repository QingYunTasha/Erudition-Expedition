[{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant switch\nparticipant node1\nparticipant node2\n\nclient --> client: ping node1\nclient --> client: check IP:MAC in ARP table\nclient ->> node1: True->directly ping\nclient ->> switch: False->ARP request\nswitch ->> node1: broadcast ARP request\nswitch ->> node2: broadcast ARP request\nnode2 --> node2: check IP is node2->False->discard\nnode1 --> node1: check IP is node1->True->Add MAC\nnode1 ->> client: response with MAC\nclient --> client: update ARP table\nclient ->> node1: ping\n\n","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false,"editorMode":"code"},"time":1680157879229,"type":"manual","id":"5e06a1f3-05ad-49ee-b871-362b93a1bd0a","name":"wailing-receptionist"},{"state":{"code":"flowchart LR\nsubgraph worker1\ndirection LR\nbill1.log --> tailer1\nend\nsubgraph worker2\ndirection LR\nbill2.log --> tailer2\nend\nsubgraph worker3\ndirection LR\nbill3.log --> tailer3\nend\n\ntailer1 & tailer2 & tailer3 --> Log-Center","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":true,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false,"editorMode":"code"},"time":1679037682734,"type":"manual","id":"0d698d54-1d8d-4196-88db-a5dc0521360f","name":"broad-baker"},{"state":{"code":"flowchart LR\njobqueue-->dispatcher-->A-taskqueue & B-taskqueue\nA-taskqueue-->A-broker-->a-workerqueue & b-workerqueue\nB-taskqueue-->B-broker-->b-workerqueue & c-workerqueue","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1678271220448,"type":"manual","id":"48120e37-ebcb-4247-a34f-9187584c266b","name":"clumsy-garage"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image(session)\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper:not found\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:check 'ubt@exp.com' permission\nketo-app->>keto:check permission\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:403 Forbidden\noathkeeper-->>client:403 Forbidden\nketo-app->>oathkeeper:200\noathkeeper->>+client:redirect\nclient->>-minio:/static/images/ubt@exp.com/<image>\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677840382562,"type":"manual","id":"a74a504b-e8a2-46d6-a080-6372ee0cc832","name":"gray-park"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image(session)\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper:not found\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:check 'ubt@exp.com' permission\nketo-app->>keto:check permission\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:statuscode:403\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nketo-app->>oathkeeper:statuscode:200\noathkeeper->>+client:redirect\nclient->>-minio:/static/images/ubt@exp.com/<image>\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677840244812,"type":"manual","id":"13e9a788-9beb-43fc-83cc-3b8bdfe5b20f","name":"embarrassed-window"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper: email:not found\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:check 'ubt@exp.com' permission\nketo-app->>keto:check permission\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:statuscode:403\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nketo-app->>oathkeeper:statuscode:200\noathkeeper->>+client:redirect\nclient->>-minio:/static/images/ubt@exp.com/<image>\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677840196899,"type":"manual","id":"164aac0f-3f88-454d-bd78-c8cfaa43aebb","name":"sour-monitor"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper: email:not found\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:ubt@exp.com has permission?\nketo-app->>keto:has permission?\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:statuscode:403\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nketo-app->>oathkeeper:statuscode:200\noathkeeper->>+client:redirect\nclient->>-minio:/static/images/ubt@exp.com/<image>\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677840123259,"type":"manual","id":"3a2abf37-2f42-4c39-a4f3-c10cf2cd27bb","name":"immense-garden"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper: email:not found\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:ubt@exp.com has permission?\nketo-app->>keto:has permission?\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:statuscode:403\noathkeeper-->>+client:redirect\nclient-->>-kratos:/login\nketo-app->>oathkeeper:statuscode:200\noathkeeper->>minio:redirect\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677840044284,"type":"manual","id":"8d35c10c-c10b-41f3-ae21-c3a638a22da8","name":"uptight-accident"},{"state":{"code":"sequenceDiagram\nparticipant client\nparticipant oathkeeper\nparticipant kratos\nparticipant keto-app\nparticipant keto\nparticipant minio\nclient->>oathkeeper:get image\noathkeeper->>kratos:who?(session)\nkratos-->>oathkeeper: email:not found\noathkeeper-->>client:redirect to kratos/login\nkratos->>oathkeeper: email:ubt@exp.com\noathkeeper->>keto-app:ubt@exp.com has permission?\nketo-app->>keto:has permission?\nketo->>keto-app:allowed:true\nketo-->>keto-app:allowed:false\nketo-app-->>oathkeeper:statuscode:403\noathkeeper-->>client:redirect to kratos/login\nketo-app->>oathkeeper:statuscode:200\noathkeeper->>minio:redirect\nminio->>client:return image","mermaid":"{\n  \"theme\": \"default\"\n}","autoSync":true,"updateDiagram":false,"updateEditor":false,"loader":{"type":"gist","config":{"url":"https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a"}},"panZoom":false},"time":1677837899848,"type":"manual","id":"956e9721-6f26-4452-97cb-203d12fcbc75","name":"low-grandmother"}]